<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YU Lottery - Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --tg-theme-bg-color: #ffffff;
            --tg-theme-text-color: #222222;
            --tg-theme-button-color: #40a7e3;
            --tg-theme-button-text-color: #ffffff;
            --tg-theme-secondary-bg-color: #f1f1f1;
            --tg-theme-hint-color: #999999;
            --tg-theme-link-color: #2481cc;
            --tg-theme-header-bg-color: #ffffff;
            --tg-theme-accent-text-color: #2481cc;
            --tg-theme-section-bg-color: #ffffff;
            --tg-theme-section-header-text-color: #2481cc;
            --tg-theme-subtitle-text-color: #999999;
            --tg-theme-destructive-text-color: #e53935;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;
            background-color: var(--tg-theme-bg-color);
            color: var(--tg-theme-text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .container {
            max-width: 100%;
            padding: 16px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            padding: 16px 0;
            background-color: var(--tg-theme-header-bg-color);
            border-bottom: 1px solid var(--tg-theme-secondary-bg-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            margin: 0;
            font-size: 20px;
            font-weight: 700;
        }

        .balance {
            background-color: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
            padding: 12px 16px;
            border-radius: 10px;
            margin: 16px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .balance-amount {
            font-size: 20px;
            font-weight: 700;
        }

        .section {
            margin: 20px 0;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--tg-theme-section-header-text-color);
        }

        .symbols-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .symbol-item {
            background-color: var(--tg-theme-secondary-bg-color);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
        }

        .symbol-item:hover {
            transform: translateY(-2px);
        }

        .symbol-item.selected {
            background-color: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
        }

        .symbol-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .symbol-name {
            font-weight: 600;
        }

        .bet-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: var(--tg-theme-secondary-bg-color);
            border-radius: 12px;
            padding: 12px 16px;
            margin: 16px 0;
        }

        .bet-amount {
            font-weight: 700;
            font-size: 18px;
        }

        .bet-buttons {
            display: flex;
            gap: 8px;
        }

        .bet-button {
            background-color: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            font-weight: 600;
            cursor: pointer;
        }

        .action-button {
            background-color: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
            border: none;
            border-radius: 12px;
            padding: 16px;
            font-size: 16px;
            font-weight: 700;
            width: 100%;
            cursor: pointer;
            margin-top: 16px;
            transition: opacity 0.2s;
        }

        .action-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .history {
            margin-top: 24px;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--tg-theme-secondary-bg-color);
        }

        .history-symbol {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .history-icon {
            font-size: 20px;
        }

        .history-result {
            font-weight: 600;
        }

        .history-win {
            color: #31b545;
        }

        .history-loss {
            color: var(--tg-theme-destructive-text-color);
        }

        .premium-section {
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            border-radius: 12px;
            padding: 16px;
            margin: 24px 0;
            text-align: center;
        }

        .premium-title {
            font-weight: 700;
            font-size: 18px;
            margin-bottom: 8px;
        }

        .stars {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin: 12px 0;
        }

        .star {
            color: #ffc107;
            font-size: 24px;
        }

        .telegram-button {
            background-color: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
            border: none;
            border-radius: 12px;
            padding: 12px 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 8px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>YU –õ–æ—Ç–µ—Ä–µ—è</h1>
        </div>

        <div class="balance">
            <span>–í–∞—à –±–∞–ª–∞–Ω—Å:</span>
            <span class="balance-amount">1000 YU</span>
        </div>

        <div class="section">
            <div class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–∏–º–≤–æ–ª</div>
            <div class="symbols-grid">
                <div class="symbol-item" data-symbol="ring">
                    <div class="symbol-icon">üíç</div>
                    <div class="symbol-name">–ö–æ–ª—å—Ü–æ</div>
                </div>
                <div class="symbol-item" data-symbol="cup">
                    <div class="symbol-icon">üèÜ</div>
                    <div class="symbol-name">–ö—É–±–æ–∫</div>
                </div>
                <div class="symbol-item" data-symbol="heart">
                    <div class="symbol-icon">‚ù§Ô∏è</div>
                    <div class="symbol-name">–°–µ—Ä–¥—Ü–µ</div>
                </div>
                <div class="symbol-item" data-symbol="bear">
                    <div class="symbol-icon">üêª</div>
                    <div class="symbol-name">–ú–µ–¥–≤–µ–¥—å</div>
                </div>
                <div class="symbol-item" data-symbol="diamond">
                    <div class="symbol-icon">üíé</div>
                    <div class="symbol-name">–ê–ª–º–∞–∑</div>
                </div>
                <div class="symbol-item" data-symbol="rose">
                    <div class="symbol-icon">üåπ</div>
                    <div class="symbol-name">–†–æ–∑–∞</div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏</div>
            <div class="bet-controls">
                <div class="bet-amount">50 YU</div>
                <div class="bet-buttons">
                    <button class="bet-button" data-change="-10">-10</button>
                    <button class="bet-button" data-change="-50">-50</button>
                    <button class="bet-button" data-change="+10">+10</button>
                    <button class="bet-button" data-change="+50">+50</button>
                </div>
            </div>
        </div>

        <button class="action-button" id="play-button">–°—ã–≥—Ä–∞—Ç—å (50 YU)</button>

        <div class="premium-section">
            <div class="premium-title">–ü—Ä–µ–º–∏—É–º –≤–µ—Ä—Å–∏—è</div>
            <p>–ü–æ–ª—É—á–∏—Ç–µ –±–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤ –Ω–∞ –≤—ã–∏–≥—Ä—ã—à –∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏!</p>
            <div class="stars">
                <span class="star">‚≠ê</span>
                <span class="star">‚≠ê</span>
                <span class="star">‚≠ê</span>
                <span class="star">‚≠ê</span>
                <span class="star">‚≠ê</span>
            </div>
            <p>–í—Å–µ–≥–æ –∑–∞ 15 –∑–≤–µ–∑–¥</p>
            <button class="telegram-button">–ö—É–ø–∏—Ç—å —á–µ—Ä–µ–∑ Telegram</button>
        </div>

        <div class="section history">
            <div class="section-title">–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä</div>
            <div class="history-list">
                <div class="history-item">
                    <div class="history-symbol">
                        <span class="history-icon">üíé</span>
                        <span>–ê–ª–º–∞–∑</span>
                    </div>
                    <div class="history-result history-win">+150 YU</div>
                </div>
                <div class="history-item">
                    <div class="history-symbol">
                        <span class="history-icon">üåπ</span>
                        <span>–†–æ–∑–∞</span>
                    </div>
                    <div class="history-result history-loss">-50 YU</div>
                </div>
                <div class="history-item">
                    <div class="history-symbol">
                        <span class="history-icon">üêª</span>
                        <span>–ú–µ–¥–≤–µ–¥—å</span>
                    </div>
                    <div class="history-result history-win">+200 YU</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();
        
        // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let state = {
            balance: 1000,
            betAmount: 50,
            selectedSymbol: null,
            history: []
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const balanceElement = document.querySelector('.balance-amount');
        const betAmountElement = document.querySelector('.bet-amount');
        const playButton = document.getElementById('play-button');
        const symbolItems = document.querySelectorAll('.symbol-item');
        const betButtons = document.querySelectorAll('.bet-button');

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
        function updateBalance() {
            balanceElement.textContent = `${state.balance} YU`;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—É–º–º—ã —Å—Ç–∞–≤–∫–∏
        function updateBetAmount() {
            betAmountElement.textContent = `${state.betAmount} YU`;
            playButton.textContent = `–°—ã–≥—Ä–∞—Ç—å (${state.betAmount} YU)`;
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏, –µ—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ –±–æ–ª—å—à–µ –±–∞–ª–∞–Ω—Å–∞ –∏–ª–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω —Å–∏–º–≤–æ–ª
            playButton.disabled = state.betAmount > state.balance || state.selectedSymbol === null;
        }

        // –í—ã–±–æ—Ä —Å–∏–º–≤–æ–ª–∞
        symbolItems.forEach(item => {
            item.addEventListener('click', () => {
                // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤
                symbolItems.forEach(symbol => symbol.classList.remove('selected'));
                
                // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª
                item.classList.add('selected');
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª
                state.selectedSymbol = item.dataset.symbol;
                
                // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∏–≥—Ä—ã, –µ—Å–ª–∏ —Å—É–º–º–∞ —Å—Ç–∞–≤–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
                updateBetAmount();
            });
        });

        // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É–º–º—ã —Å—Ç–∞–≤–∫–∏
        betButtons.forEach(button => {
            button.addEventListener('click', () => {
                const change = parseInt(button.dataset.change);
                let newBetAmount = state.betAmount + change;
                
                // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Å—É–º–º—É —Å—Ç–∞–≤–∫–∏
                if (newBetAmount < 10) newBetAmount = 10;
                if (newBetAmount > state.balance) newBetAmount = state.balance;
                
                state.betAmount = newBetAmount;
                updateBetAmount();
            });
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –∏–≥—Ä—ã
        playButton.addEventListener('click', () => {
            if (state.betAmount > state.balance || state.selectedSymbol === null) return;
            
            // –°–∏–º—É–ª—è—Ü–∏—è –∏–≥—Ä—ã - 50% —à–∞–Ω—Å –Ω–∞ –≤—ã–∏–≥—Ä—ã—à
            const isWin = Math.random() > 0.5;
            const winMultiplier = isWin ? 3 : 0; // –í—ã–∏–≥—Ä—ã—à –≤ 3 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ —Å—Ç–∞–≤–∫–∏
            const winAmount = isWin ? state.betAmount * winMultiplier : 0;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
            state.balance = state.balance - state.betAmount + winAmount;
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
            state.history.unshift({
                symbol: state.selectedSymbol,
                bet: state.betAmount,
                win: winAmount,
                isWin: isWin
            });
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            updateBalance();
            updateHistory();
            
            // –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            showResult(isWin, winAmount);
        });

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä
        function updateHistory() {
            const historyList = document.querySelector('.history-list');
            historyList.innerHTML = '';
            
            state.history.slice(0, 5).forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                // –ü–æ–ª—É—á–∞–µ–º emoji –¥–ª—è —Å–∏–º–≤–æ–ª–∞
                const symbolEmoji = getSymbolEmoji(item.symbol);
                const symbolName = getSymbolName(item.symbol);
                
                historyItem.innerHTML = `
                    <div class="history-symbol">
                        <span class="history-icon">${symbolEmoji}</span>
                        <span>${symbolName}</span>
                    </div>
                    <div class="history-result ${item.isWin ? 'history-win' : 'history-loss'}">
                        ${item.isWin ? '+' : '-'}${item.bet} YU
                    </div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ emoji –¥–ª—è —Å–∏–º–≤–æ–ª–∞
        function getSymbolEmoji(symbol) {
            const emojis = {
                'ring': 'üíç',
                'cup': 'üèÜ',
                'heart': '‚ù§Ô∏è',
                'bear': 'üêª',
                'diamond': 'üíé',
                'rose': 'üåπ'
            };
            return emojis[symbol] || '‚ùì';
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–∞
        function getSymbolName(symbol) {
            const names = {
                'ring': '–ö–æ–ª—å—Ü–æ',
                'cup': '–ö—É–±–æ–∫',
                'heart': '–°–µ—Ä–¥—Ü–µ',
                'bear': '–ú–µ–¥–≤–µ–¥—å',
                'diamond': '–ê–ª–º–∞–∑',
                'rose': '–†–æ–∑–∞'
            };
            return names[symbol] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
        }

        // –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–≥—Ä—ã
        function showResult(isWin, amount) {
            if (isWin) {
                tg.showPopup({
                    title: '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!',
                    message: `–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${amount} YU!`,
                    buttons: [{type: 'ok'}]
                });
            } else {
                tg.showPopup({
                    title: '–ù–µ –ø–æ–≤–µ–∑–ª–æ',
                    message: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!',
                    buttons: [{type: 'ok'}]
                });
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            updateBalance();
            updateBetAmount();
        });
    </script>
</body>
</html>
